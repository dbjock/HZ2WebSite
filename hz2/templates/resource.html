{% extends "layout.html" %}
{% block content %}
<h1>{{ resource.title }} : {{ resource.type.title }}</h1>
<h2>{{ resource.rarity.title }}</h2>
{% if header_row %}
<a href="{{ url_for('xlsx_resource_detail', id=resource.id) }}">
    <button type="button" class="btn btn-outline-primary">Download XLSX</button>
</a>
<a href="{{ url_for('json_resource_detail', id=resource.id) }}">
    <button type="button" class="btn btn-outline-primary">Download JSON</button>
</a>

<p>Weapons which require this resource</p>

<table class="table table-hover table-bordered" id='myTable'>
    <tr>
        <th>{{ header_row[0] }}</th>
        <th class="text-center">{{ header_row[2] }}</th>
        <th class="text-center">{{ header_row[3] }}</th>
        <th class="text-center">{{ header_row[4] }}</th>
        <th class="text-center">{{ header_row[5] }}</th>
        <th class="text-center">{{ header_row[6] }}</th>
        <th class="text-center">{{ header_row[7] }}</th>
        <th class="text-center">{{ header_row[8] }}</th>
    </tr>
    {% for row in data %}
    <tr>
        {% if row[0] == 'Total' %}
        <td><strong>{{ row[0] }}</td>
        <td class="text-center"><strong>{{ row[2] }}</strong></td>
        <td class="text-center"><strong>{{ row[3] }}</strong></td>
        <td class="text-center"><strong>{{ row[4] }}</strong></td>
        <td class="text-center"><strong>{{ row[5] }}</strong></td>
        <td class="text-center"><strong>{{ row[6] }}</strong></td>
        <td class="text-center"><strong>{{ row[7] }}</strong></td>
        <td class="text-center"><strong>{{ row[8] }}</strong></td>
        {% else %}
        <td><a href="{{ url_for('weapon_detail', weapon_id=row[1]) }}" class="link-primary">{{ row[0] }}</a></td>
        <td class="text-center">{{ row[2] }}</td>
        <td class="text-center">{{ row[3] }}</td>
        <td class="text-center">{{ row[4] }}</td>
        <td class="text-center">{{ row[5] }}</td>
        <td class="text-center">{{ row[6] }}</td>
        <td class="text-center">{{ row[7] }}</td>
        <td class="text-center"><strong>{{ row[8] }}</strong></td>
        {% endif %}
    </tr>
    {% endfor %}
</table>
{% else %}
<p>No weapons found in database that require this to upgrade</p>
{% endif %}

{% endblock content %}